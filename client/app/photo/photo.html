<div class="app-photo" ng-controller="photoController">
  <img class="app-photo-image" ng-src="/media/original/{{photo.filename}}"/>
  <div class="app-header">
    <a ui-sref="prompt({id: id})" class="app-header-back">
      <img src="img/next.png" />
    </a>
    <div class="app-header-sandwich">
      <img src="img/sandwich.png" />
      <div class="app-header-menu">
        <div class="app-grey-out" ng-click="signOut()">Sign Out </div>
      </div>
    </div>
  </div>
<!--   <div class="app-photo-overlay-bg" ng-class="{'app-photo-overlay-hidden': hideOverlay}"></div> -->
  <div class="app-photo-overlay" ng-class="{'app-photo-overlay-hidden': hideOverlay}">
    <div class="app-photo-scroll" ng-click="hideOverlay = !hideOverlay">click for comments</div>
    <div class="app-photo-vote-box">

      <div ng-if="userId == photo.prompt.user_id && votingPeriodIsOpen && photo.prompt.winner_id == null" class="app-photo-choose-winner" ng-click="setWinner()">Set as <span>Winner!</span>
      </div>
    </div>
    <div ng-class-odd="'app-comment-bubble-left'" ng-class-even="'app-comment-bubble-right'" ng-repeat="comment in comments">
      <span>{{comment.author}}:</span> {{comment.text}}
    </div>
    <div class="app-comment-submit">
      <textarea class="app-comment-textarea"></textarea>
    </div>
  </div>
</div>

<!--
TODO: add these pseudocode lines to the choose-winner button
in order to only show the button if all conditions are met.

votingPeriodIsOpen &&
photo.prompt.winner_id == null"
 
 -->